var feedbackLink=document.querySelector(".feedback-link"),feedbackModal=document.querySelector(".feedback"),feedbackClose=document.querySelector(".feedback .close"),feedbackName=feedbackModal.querySelector('[name="feedback-name"]'),feedbackMail=feedbackModal.querySelector('[name="feedback-email"]'),feedbackMessage=feedbackModal.querySelector('[name="feedback-message"]'),feedbackForm=feedbackModal.querySelector("form"),storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("mail"),inputText=document.querySelectorAll(".input-text");feedbackLink.addEventListener("click",function(e){e.preventDefault(),feedbackModal.classList.add("show"),storageName?(feedbackName.value=storageName,feedbackName.classList.add("filled"),storageEmail?(feedbackMail.value=storageEmail,feedbackMail.classList.add("filled"),feedbackMessage.focus()):feedbackMail.focus()):feedbackName.focus()}),feedbackClose.addEventListener("click",function(){feedbackModal.classList.remove("show"),feedbackModal.classList.remove("error")}),feedbackForm.addEventListener("submit",function(e){feedbackName.value&&feedbackMail.value&&feedbackMessage.value?(localStorage.setItem("name",feedbackName.value),localStorage.setItem("mail",feedbackMail.value)):(e.preventDefault(),feedbackModal.classList.remove("error"),feedbackModal.offsetWidth=feedbackModal.offsetWidth,feedbackModal.classList.add("error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&feedbackModal.classList.contains("show")&&(feedbackModal.classList.remove("show"),feedbackModal.classList.remove("error"))}),inputText.forEach(function(e){e.addEventListener("focusout",function(){e.value||e.classList.remove("filled")}),e.addEventListener("input",function(){e.classList.add("filled")})});